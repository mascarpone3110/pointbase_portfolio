# PointBase  
ポイント管理・注文管理Webアプリケーション

---

## 概要
PointBase は、**学童施設・小規模スクールでの利用を想定したポイント管理Webアプリケーション**です。

ポイントの付与・消費に加え、  
**カート機能・注文管理機能**を備えた、業務アプリケーションを意識した構成で開発しています。

フロントエンド・バックエンド・インフラ（AWS）までを一貫して個人で設計・実装しました。

---

## 想定利用シーン
- 学童施設・教育施設でのポイント管理
- ポイントを利用した景品・特典交換
- 管理者と一般ユーザーが存在する業務アプリケーション

---

## 主な機能

### ユーザー関連
- ユーザー登録
- ログイン / ログアウト
- 二段階認証（TOTP）
- ログイン状態の安全な管理（Cookie ベース）

### ポイント管理
- ポイント付与
- ポイント消費
- 保有ポイントの確認

### カート・注文管理
- ポイントを使用した商品カート機能
- 注文作成・注文履歴の管理
- 注文ステータス管理  
  - **未交換**（注文済み・未処理）  
  - **交換済み**（管理者による処理完了）

### 権限管理
- 管理者 / 一般ユーザーのロール分離
- 管理者のみ実行可能な操作の制御
- 管理者による注文ステータス更新

---

## 技術構成

### フロントエンド
- Next.js
- TypeScript
- Tailwind CSS

### バックエンド
- Django
- Django REST Framework

### インフラ
- AWS
  - ECS Fargate
  - Application Load Balancer
  - CloudFront
  - RDS
- Terraform（IaC）

---

## AWS マルチアカウント構成
本アプリケーションは、**AWS マルチアカウント構成**を前提に設計・構築しています。

- 管理用アカウント
- 本番アカウント
- ログ集約用アカウント
- セキュリティ専用アカウント

ログ・セキュリティ監視を分離することで、  
**実務を想定したセキュアな運用構成**を意識しました。

---

## 認証・セキュリティ設計

### 認証方式
- JWT を用いた認証
- トークンは **HttpOnly Cookie** に保存
- フロントエンドからは JavaScript で直接参照不可

### セキュリティ対策
- CSRF トークンによる二重送信対策
- TOTP（二段階認証）によるログイン強化
- CloudFront 経由のみ ALB にアクセス可能な構成
- AWS WAF / GuardDuty / SecurityHub を利用した監視

**セキュリティを後付けにせず、設計段階から考慮することを重視しました。**

---

## システム構成概要
- フロントエンド（Next.js）  
  → CloudFront  
  → ALB  
  → ECS Fargate（Django API）

- データベースは RDS を利用  
- ログ・セキュリティ監視は AWS マネージドサービスを活用  
- Terraform によるインフラ構成管理

---

## 工夫した点
- 認証情報を localStorage に保存せず、Cookie ベースで管理
- カート・注文・ステータス管理を通じて業務アプリの流れを再現
- AWS マルチアカウント構成によるセキュリティ分離
- 本番環境を意識した AWS 構成・運用設計
- 将来的な拡張（Cognito 置き換え）を前提とした設計

---

## 学んだこと・得られた知見
- 業務アプリにおける注文・ステータス管理の考え方
- 認証・認可・セキュリティ設計の重要性
- AWS マルチアカウント運用の基本
- インフラをコードで管理するメリット（Terraform）

---

## 今後の改善予定
- Amazon Cognito を利用した認証基盤への移行
- 注文・権限管理のさらなる細分化
- 監査ログの強化
- テストコードの追加

---

## 開発の目的
未経験からエンジニア転職を目指す中で、

- **業務アプリケーションの流れを理解していること**
- **セキュリティを意識した設計ができること**
- **AWS を用いた本番想定の構成を自分で組めること**

を示すことを目的として開発しました。
